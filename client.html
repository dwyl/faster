<a id="refresh"></a>
<style>
  #refresh {
    display: block;
    background: url(http://i.imgur.com/Cp0ITNX.png);
    background-size: 40px 40px;
    background-repeat: no-repeat;
    height: 40px;
    width: 40px;
    position: fixed;
    bottom: 2px;
    left: 2px;
  }
</style>
<script src="https://cdn.socket.io/socket.io-1.3.4.js"></script>
<script>
  var socket = io('http://localhost:5000');
  socket.on('message', function(data){
    console.log(data);
  })
  setInterval(function(){
    socket.emit('click', Math.random())
  }, 10000)

  socket.on('refresh', function(data){
    console.log('refreshing content');
    setTimeout(function(){
      window.location.reload();
    },5000)
  })

  var green = 'url(http://i.imgur.com/Cp0ITNX.png)';
  var red   = 'url(http://i.imgur.com/WDddlnh.png)';
  var r = document.getElementById("refresh");
  r.style.backgroundImage = green; // set initial state
  r.onclick = function() {
    console.log(r.style);
    if(r.style.backgroundImage === green) {
      console.log("switch to red")
      r.style.backgroundImage = red;
    } else {
      console.log("switch to green")
      r.style.backgroundImage = green;
    }

  };
</script>
